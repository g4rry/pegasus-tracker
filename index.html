<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Live Pegasus Tracker</title>
    <style>
        #map-container {
            width: 100%;
            height: 300px;
        }
    </style>
</head>
<body>
    <h2>Pegasus Live Position Tracker</h2>
    <div id="map-container"></div>

    <script>
        const config = {
            width: "100%",
            height: "300",
            latitude: "51.0",
            longitude: "1.1",
            zoom: "8",
            names: false,
            mmsi: "232018618",
            show_track: true
        };

        function loadMap() {
            const container = document.getElementById("map-container");
            container.innerHTML = '';

            const scriptVars = document.createElement('script');
            scriptVars.type = 'text/javascript';
            scriptVars.text = `
                var width="${config.width}";
                var height="${config.height}";
                var latitude="${config.latitude}";
                var longitude="${config.longitude}";
                var zoom="${config.zoom}";
                var names=${config.names};
                var mmsi="${config.mmsi}";
                var show_track=${config.show_track};
            `;

            const scriptMap = document.createElement('script');
            scriptMap.type = 'text/javascript';
            scriptMap.src = 'https://www.vesselfinder.com/aismap.js';

            container.appendChild(scriptVars);
            container.appendChild(scriptMap);
        }

        loadMap();

        // Refresh map every 30 seconds
        setInterval(loadMap, 30000);
    </script>
</body>
</html>